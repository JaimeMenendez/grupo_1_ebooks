<% let dataHead = {
  css: ["css/style.css","css/navBar.css", "css/navBarMobile.css"],
  jsfile: ["./js/darkModeScript.js","./js/backgroundAnimation.js","./js/index.js"],
  titulo: "Iniciar sesión"
}%>

<%- include('../partials/head',dataHead) %> 

<body>
  <%- include('../partials/navBar') %>
  <%- include('../partials/navBarMobile') %>

  <% if(locals.mensaje) {%>
   
   <div class="alert-message <%= warning ? 'red-alert': 'green-alert'%>">
     <a href="javascript:void(0)" class="closebtn1" onclick="closeMessage()">&times;</a>
        <%- mensaje %>  
   </div>
   <script> 
     setTimeout(() => {
       document.querySelector(".alert-message").style.opacity = '0';
     }, 10000);
     setTimeout(() => {
       document.querySelector(".alert-message").style.display = 'none';
     }, 11000);

     const closeMessage = () =>{
       document.querySelector(".alert-message").style.opacity = '0';
       setTimeout(() => {
       document.querySelector(".alert-message").style.display = 'none';
     }, 1000);
     }
     </script>
 <%}%>

   <div class="main-container">
    <section class="loginBannerContainer">
      <div class="content-left shine-me">
        <div class="logo shine-me">
          <div class="bloqueAzul "></div>
          <div class="bloqueVerde"></div>
          <div class="bloqueRojo"></div>
          <div class="bloqueNaranja"></div>
        </div>
        <p class="logoText"><span class="rojo">IN</span><span class="azul">SIDE</span><br><span class="verde">BOOKS</span>
        </p>
        <div class="prompt">
          <h1>¿Ya tienes una cuenta?</h1>
          <h3>Ingresa a <a href="/users/login">tu cuenta</a></h3>
        </div>
      </div>
    <ul>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    </section>

    <section class="registrationInput">
      <form action="/users/register" method="POST">
        <div class="question">
          <label for="">*¿Cómo te llamas?</label>
          <input type="text" name="firstName" placeholder=" *Nombre(s)" required value="<%= locals.oldValues && locals.oldValues.firstName ? locals.oldValues.firstName:''%>"/>
        </div>

        <div class="question">
          <label for="">*¿Cuál es tu apellido?</label>
          <input type="text" name="lastName" placeholder=" *Apellido(s)" required value="<%= locals.oldValues && locals.oldValues.lastName ? locals.oldValues.lastName:''%>"/>
        </div>

        <div class="question">
          <label for="">*¿Cuál es tu correo electrónico?</label>
          <input type="email" name="email" placeholder=" *Correo Electrónico" required value="<%= locals.oldValues && locals.oldValues.email ? locals.oldValues.email:''%>"/>
        </div>

        <div class="question">
          <label for="pwd">*Crea una contraseña</label>
          <div class="passwordDiv">
            <input type="password" id="PasswordInput" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
              title="La contraseña debe tener una letra en minúscula, una letra en mayúscula, un número y al menos 8 caracteres"
              placeholder=" *Contraseña" autocomplete="on" onchange='onChange();' required>
            <span ><i  id="passwordEye" class="flaticon-invisible"></i></span>
          </div>
        </div>

        <div class="question">
          <label for="">*Confirma tu contraseña</label>
          <div class="passwordDiv">
            <input type="password" id="confirmPasswordInput" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
              title="La contraseña debe tener una letra en minúscula, una letra en mayúscula, un número y al menos 8 caracteres"
              placeholder=" *Confirmar contraseña" autocomplete="on" onchange='onChange();' required>
            <span ><i id="confirmPasswordEye"  class="flaticon-invisible"></i></span>
          </div>
        </div>

        <script>

          function onChange() {
            const password = document.querySelector('input[name=password]');
            const confirm = document.querySelector('#confirmPasswordInput');
            if (confirm.value === password.value) {
              confirm.setCustomValidity('');
            } else {
              confirm.setCustomValidity('Las contraseñas no coinciden');
            }
          }
        </script>

        <div class="question">
          <p>*Todos los campos son obligatorios</p>
        </div>

        <div class="conditions">
          <div class="condition">
            <input type="checkbox" id="cbox1" value="first_checkbox"  required>
            <label for="cbox1"> He leído y acepto los <a href="/TerminosyCondiciones" target="_blank">Términos y
                condiciones</a> y <a href="/PoliticaDePrivacidad" target="_blank">Avisos de Privacidad.</a></label>
          </div>

          <div class="condition">
            <input type="checkbox" id="cbox2" value="first_checkbox">
            <label  for="cbox2"> Quiero recibir promociones y noticias a mi
              correo electrónico.</a></label>
          </div>
        </div>

        <div class="button-div">
          <button class="btn red" type="submit" id="submit">Crear mi cuenta</button>
        </div>

        <div class="center-separator">o</div>

        <div class="button-div">
          <button class="btn googleButton" type="button"><img src="./images/google.svg" alt="">&nbsp Crear cuenta con Google
          </button>
        </div>
  </div>
  </form>
  </section>
  </div>
</body>

</html>
